<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 580" font-family="'Segoe UI', system-ui, -apple-system, sans-serif">
  <defs>
    <linearGradient id="bg" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#0f172a"/>
      <stop offset="100%" stop-color="#1e293b"/>
    </linearGradient>
    <marker id="arrow" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto-start-auto">
      <path d="M 0 0 L 10 3.5 L 0 7 z" fill="#64748b"/>
    </marker>
    <marker id="arrow-cyan" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto-start-auto">
      <path d="M 0 0 L 10 3.5 L 0 7 z" fill="#22d3ee"/>
    </marker>
    <marker id="arrow-green" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto-start-auto">
      <path d="M 0 0 L 10 3.5 L 0 7 z" fill="#34d399"/>
    </marker>
    <marker id="arrow-purple" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto-start-auto">
      <path d="M 0 0 L 10 3.5 L 0 7 z" fill="#a78bfa"/>
    </marker>
    <marker id="arrow-amber" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto-start-auto">
      <path d="M 0 0 L 10 3.5 L 0 7 z" fill="#fbbf24"/>
    </marker>
    <marker id="arrow-rose" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto-start-auto">
      <path d="M 0 0 L 10 3.5 L 0 7 z" fill="#fb7185"/>
    </marker>
    <marker id="arrow-emerald" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto-start-auto">
      <path d="M 0 0 L 10 3.5 L 0 7 z" fill="#34d399"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="960" height="580" fill="url(#bg)" rx="12"/>

  <!-- Title -->
  <text x="480" y="38" text-anchor="middle" fill="#f1f5f9" font-size="18" font-weight="600" letter-spacing="0.5">GenBrowser — Application Architecture</text>
  <text x="480" y="56" text-anchor="middle" fill="#64748b" font-size="11">Python  ·  Polars  ·  Three.js  ·  TypeScript  ·  Vite  ·  GitHub Pages</text>

  <!-- ═══════════════ INPUTS (left column) ═══════════════ -->
  <rect x="30" y="100" width="130" height="70" rx="8" fill="#1e293b" stroke="#334155" stroke-width="1.2"/>
  <text x="95" y="120" text-anchor="middle" fill="#94a3b8" font-size="9" font-weight="600" letter-spacing="1">INPUT</text>
  <line x1="50" y1="128" x2="140" y2="128" stroke="#334155" stroke-width="0.8"/>
  <text x="95" y="146" text-anchor="middle" fill="#e2e8f0" font-size="10" font-weight="500">chr1.pdb</text>
  <text x="95" y="160" text-anchor="middle" fill="#475569" font-size="8">GSDB 3DMax · H1-hESC</text>

  <rect x="30" y="300" width="130" height="70" rx="8" fill="#1e293b" stroke="#334155" stroke-width="1.2"/>
  <text x="95" y="320" text-anchor="middle" fill="#94a3b8" font-size="9" font-weight="600" letter-spacing="1">INPUT</text>
  <line x1="50" y1="328" x2="140" y2="328" stroke="#334155" stroke-width="0.8"/>
  <text x="95" y="346" text-anchor="middle" fill="#e2e8f0" font-size="10" font-weight="500">chr1.fa</text>
  <text x="95" y="360" text-anchor="middle" fill="#475569" font-size="8">FASTA sequence</text>

  <!-- ═══════════════ SCRIPT 1: sasa.py ═══════════════ -->
  <rect x="200" y="80" width="170" height="90" rx="8" fill="#0c2d48" stroke="#38bdf8" stroke-width="1.2"/>
  <circle cx="218" cy="98" r="8" fill="#38bdf8" opacity="0.2"/>
  <text x="218" y="102" text-anchor="middle" fill="#38bdf8" font-size="9" font-weight="700">1</text>
  <text x="293" y="102" text-anchor="middle" fill="#38bdf8" font-size="11" font-weight="600">sasa.py</text>
  <line x1="218" y1="110" x2="352" y2="110" stroke="#1e3a5f" stroke-width="0.8"/>
  <text x="285" y="128" text-anchor="middle" fill="#cbd5e1" font-size="9">CSAA algorithm</text>
  <text x="285" y="142" text-anchor="middle" fill="#64748b" font-size="8">sphere packing · grid binning</text>
  <rect x="218" y="150" width="134" height="16" rx="4" fill="#0f3460" stroke="#1e3a5f"/>
  <text x="285" y="161" text-anchor="middle" fill="#7dd3fc" font-size="8">→ surface pts · dist_surface</text>

  <!-- ═══════════════ SCRIPT 2: network_analysis.py ═══════════════ -->
  <rect x="200" y="190" width="170" height="90" rx="8" fill="#0a2e1f" stroke="#34d399" stroke-width="1.2"/>
  <circle cx="218" cy="208" r="8" fill="#34d399" opacity="0.2"/>
  <text x="218" y="212" text-anchor="middle" fill="#34d399" font-size="9" font-weight="700">2</text>
  <text x="305" y="212" text-anchor="middle" fill="#34d399" font-size="10" font-weight="600">network_analysis.py</text>
  <line x1="218" y1="220" x2="352" y2="220" stroke="#1a3d2e" stroke-width="0.8"/>
  <text x="285" y="238" text-anchor="middle" fill="#cbd5e1" font-size="9">COM · rolling mean (spline)</text>
  <text x="285" y="252" text-anchor="middle" fill="#64748b" font-size="8">radial distance calculations</text>
  <rect x="218" y="260" width="134" height="16" rx="4" fill="#0f3d2a" stroke="#1a3d2e"/>
  <text x="285" y="271" text-anchor="middle" fill="#6ee7b7" font-size="8">→ dist_com · dist_rolling_mean</text>

  <!-- ═══════════════ SCRIPT 3: biological.py ═══════════════ -->
  <rect x="200" y="300" width="170" height="90" rx="8" fill="#1e1640" stroke="#a78bfa" stroke-width="1.2"/>
  <circle cx="218" cy="318" r="8" fill="#a78bfa" opacity="0.2"/>
  <text x="218" y="322" text-anchor="middle" fill="#a78bfa" font-size="9" font-weight="700">3</text>
  <text x="293" y="322" text-anchor="middle" fill="#a78bfa" font-size="11" font-weight="600">biological.py</text>
  <line x1="218" y1="330" x2="352" y2="330" stroke="#2d2060" stroke-width="0.8"/>
  <text x="285" y="348" text-anchor="middle" fill="#cbd5e1" font-size="9">FASTA parsing</text>
  <text x="285" y="362" text-anchor="middle" fill="#64748b" font-size="8">(G+C) / total per 500kb bin</text>
  <rect x="218" y="370" width="134" height="16" rx="4" fill="#251a50" stroke="#2d2060"/>
  <text x="285" y="381" text-anchor="middle" fill="#c4b5fd" font-size="8">→ gc_content</text>

  <!-- Arrows: inputs → scripts -->
  <line x1="160" y1="130" x2="198" y2="120" stroke="#64748b" stroke-width="1.2" marker-end="url(#arrow)"/>
  <line x1="160" y1="140" x2="198" y2="230" stroke="#64748b" stroke-width="1.2" marker-end="url(#arrow)"/>
  <line x1="160" y1="335" x2="198" y2="340" stroke="#64748b" stroke-width="1.2" marker-end="url(#arrow)"/>

  <!-- ═══════════════ STAGE 4: compile ═══════════════ -->
  <rect x="420" y="155" width="170" height="160" rx="8" fill="#2d2408" stroke="#fbbf24" stroke-width="1.2"/>
  <circle cx="438" cy="173" r="8" fill="#fbbf24" opacity="0.2"/>
  <text x="438" y="177" text-anchor="middle" fill="#fbbf24" font-size="9" font-weight="700">4</text>
  <text x="513" y="177" text-anchor="middle" fill="#fbbf24" font-size="11" font-weight="600">compile</text>
  <line x1="438" y1="185" x2="572" y2="185" stroke="#3d3010" stroke-width="0.8"/>
  <text x="505" y="203" text-anchor="middle" fill="#cbd5e1" font-size="9">polars · merge all outputs</text>
  <text x="505" y="219" text-anchor="middle" fill="#64748b" font-size="8">schema enforcement</text>
  <text x="505" y="233" text-anchor="middle" fill="#64748b" font-size="8">Float32 · round to 4 decimals</text>

  <!-- Merge badge -->
  <rect x="395" y="222" width="18" height="18" rx="9" fill="#1e293b" stroke="#475569" stroke-width="0.8"/>
  <text x="404" y="235" text-anchor="middle" fill="#94a3b8" font-size="8" font-weight="700">×4</text>

  <rect x="438" y="248" width="134" height="18" rx="4" fill="#3d3010" stroke="#4d3d18"/>
  <text x="505" y="260" text-anchor="middle" fill="#fde68a" font-size="8">→ compiled.parquet</text>
  <rect x="438" y="270" width="134" height="18" rx="4" fill="#3d3010" stroke="#4d3d18"/>
  <text x="505" y="282" text-anchor="middle" fill="#fde68a" font-size="8">→ surface.parquet</text>

  <!-- numpy → bin -->
  <rect x="438" y="296" width="134" height="16" rx="4" fill="#2d1a08" stroke="#3d3010" stroke-dasharray="3,3"/>
  <text x="505" y="307" text-anchor="middle" fill="#fbbf24" font-size="7.5" opacity="0.7">numpy → .bin (Float32)</text>

  <!-- Arrows: scripts → compile -->
  <line x1="370" y1="130" x2="418" y2="200" stroke="#38bdf8" stroke-width="1.2" marker-end="url(#arrow-cyan)"/>
  <line x1="370" y1="235" x2="418" y2="235" stroke="#34d399" stroke-width="1.2" marker-end="url(#arrow-green)"/>
  <line x1="370" y1="345" x2="418" y2="270" stroke="#a78bfa" stroke-width="1.2" marker-end="url(#arrow-purple)"/>

  <!-- ═══════════════ STAGE 5: Three.js Frontend ═══════════════ -->
  <rect x="640" y="90" width="290" height="220" rx="8" fill="#2d0a18" stroke="#fb7185" stroke-width="1.2"/>
  <circle cx="658" cy="108" r="8" fill="#fb7185" opacity="0.2"/>
  <text x="658" y="112" text-anchor="middle" fill="#fb7185" font-size="9" font-weight="700">5</text>
  <text x="763" y="112" text-anchor="middle" fill="#fb7185" font-size="11" font-weight="600">Three.js Visualization</text>
  <line x1="658" y1="120" x2="912" y2="120" stroke="#3d1528" stroke-width="0.8"/>

  <!-- Left column: Rendering -->
  <text x="730" y="142" text-anchor="middle" fill="#cbd5e1" font-size="9" font-weight="500">Rendering</text>
  <text x="730" y="158" text-anchor="middle" fill="#64748b" font-size="8">TubeGeometry backbone</text>
  <text x="730" y="172" text-anchor="middle" fill="#64748b" font-size="8">Points surface cloud</text>
  <text x="730" y="186" text-anchor="middle" fill="#64748b" font-size="8">viridis colormap</text>
  <text x="730" y="200" text-anchor="middle" fill="#64748b" font-size="8">starfield background</text>

  <!-- Divider -->
  <line x1="795" y1="132" x2="795" y2="210" stroke="#3d1528" stroke-width="0.5"/>

  <!-- Right column: Interaction -->
  <text x="855" y="142" text-anchor="middle" fill="#cbd5e1" font-size="9" font-weight="500">Interaction</text>
  <text x="855" y="158" text-anchor="middle" fill="#64748b" font-size="8">OrbitControls camera</text>
  <text x="855" y="172" text-anchor="middle" fill="#64748b" font-size="8">raycaster hover</text>
  <text x="855" y="186" text-anchor="middle" fill="#64748b" font-size="8">tooltip bar charts</text>
  <text x="855" y="200" text-anchor="middle" fill="#64748b" font-size="8">lil-gui controls</text>

  <!-- Color schemes box -->
  <rect x="658" y="218" width="254" height="40" rx="4" fill="#3d1528" stroke="#4d1d34"/>
  <text x="785" y="234" text-anchor="middle" fill="#fda4af" font-size="8" font-weight="500">toggle coloring schemes</text>
  <text x="785" y="248" text-anchor="middle" fill="#64748b" font-size="7.5">dist_surface · GC content · dist_com · dist_rolling_mean</text>

  <!-- Static data files box -->
  <rect x="658" y="268" width="254" height="30" rx="4" fill="#2d0a18" stroke="#3d1528"/>
  <text x="785" y="288" text-anchor="middle" fill="#fb7185" font-size="8" opacity="0.7">public/data/ — backbone.bin · surface.bin · data.bin</text>

  <!-- Arrow: compile → three.js -->
  <line x1="590" y1="220" x2="638" y2="200" stroke="#fbbf24" stroke-width="1.2" marker-end="url(#arrow-amber)"/>

  <!-- ═══════════════ STAGE 6: Build & Deploy ═══════════════ -->
  <rect x="640" y="330" width="180" height="100" rx="8" fill="#082d1a" stroke="#34d399" stroke-width="1.2"/>
  <circle cx="658" cy="348" r="8" fill="#34d399" opacity="0.2"/>
  <text x="658" y="352" text-anchor="middle" fill="#34d399" font-size="9" font-weight="700">6</text>
  <text x="738" y="352" text-anchor="middle" fill="#34d399" font-size="11" font-weight="600">Build &amp; Deploy</text>
  <line x1="658" y1="360" x2="802" y2="360" stroke="#0f3d2a" stroke-width="0.8"/>
  <text x="730" y="380" text-anchor="middle" fill="#cbd5e1" font-size="9">Vite build</text>
  <text x="730" y="394" text-anchor="middle" fill="#64748b" font-size="8">TypeScript → JS bundle</text>
  <text x="730" y="410" text-anchor="middle" fill="#cbd5e1" font-size="9">GitHub Actions CI/CD</text>
  <text x="730" y="424" text-anchor="middle" fill="#64748b" font-size="8">→ GitHub Pages</text>

  <!-- Arrow: three.js → deploy -->
  <line x1="730" y1="310" x2="730" y2="328" stroke="#fb7185" stroke-width="1.2" marker-end="url(#arrow-rose)"/>

  <!-- ═══════════════ OUTPUT ═══════════════ -->
  <rect x="640" y="450" width="180" height="46" rx="8" fill="#1e293b" stroke="#334155" stroke-width="1.2"/>
  <text x="730" y="470" text-anchor="middle" fill="#94a3b8" font-size="9" font-weight="600" letter-spacing="1">LIVE SITE</text>
  <text x="730" y="486" text-anchor="middle" fill="#34d399" font-size="9">h4rrye.github.io/genBrowser</text>

  <!-- Arrow: deploy → output -->
  <line x1="730" y1="430" x2="730" y2="448" stroke="#34d399" stroke-width="1.2" marker-end="url(#arrow-emerald)"/>

  <!-- ═══════════════ BOTTOM BAR: Stack ═══════════════ -->
  <rect x="30" y="510" width="900" height="50" rx="8" fill="#1e293b" stroke="#334155" stroke-width="0.8"/>
  <text x="480" y="530" text-anchor="middle" fill="#64748b" font-size="9" font-weight="600" letter-spacing="1.5">STACK</text>

  <rect x="50" y="538" width="110" height="16" rx="4" fill="#172130" stroke="#253549"/>
  <text x="105" y="549" text-anchor="middle" fill="#94a3b8" font-size="7.5">numpy · scipy · mdtraj</text>

  <rect x="175" y="538" width="90" height="16" rx="4" fill="#172130" stroke="#253549"/>
  <text x="220" y="549" text-anchor="middle" fill="#94a3b8" font-size="7.5">polars · pyarrow</text>

  <rect x="280" y="538" width="110" height="16" rx="4" fill="#172130" stroke="#253549"/>
  <text x="335" y="549" text-anchor="middle" fill="#94a3b8" font-size="7.5">Three.js · TypeScript</text>

  <rect x="405" y="538" width="60" height="16" rx="4" fill="#172130" stroke="#253549"/>
  <text x="435" y="549" text-anchor="middle" fill="#94a3b8" font-size="7.5">Vite</text>

  <rect x="480" y="538" width="100" height="16" rx="4" fill="#172130" stroke="#253549"/>
  <text x="530" y="549" text-anchor="middle" fill="#94a3b8" font-size="7.5">GitHub Actions</text>

  <rect x="595" y="538" width="100" height="16" rx="4" fill="#172130" stroke="#253549"/>
  <text x="645" y="549" text-anchor="middle" fill="#94a3b8" font-size="7.5">GitHub Pages</text>

  <rect x="710" y="538" width="100" height="16" rx="4" fill="#172130" stroke="#253549"/>
  <text x="760" y="549" text-anchor="middle" fill="#94a3b8" font-size="7.5">GSDB 3DMax</text>

  <rect x="825" y="538" width="90" height="16" rx="4" fill="#172130" stroke="#253549"/>
  <text x="870" y="549" text-anchor="middle" fill="#94a3b8" font-size="7.5">H1-hESC · 500kb</text>

  <!-- ═══════════════ TS MODULES ═══════════════ -->
  <rect x="30" y="410" width="560" height="86" rx="8" fill="#1e293b" stroke="#334155" stroke-width="0.8"/>
  <text x="310" y="430" text-anchor="middle" fill="#64748b" font-size="9" font-weight="600" letter-spacing="1.5">TYPESCRIPT MODULES</text>

  <rect x="48" y="442" width="90" height="42" rx="6" fill="#172130" stroke="#253549"/>
  <text x="93" y="460" text-anchor="middle" fill="#e2e8f0" font-size="8.5" font-weight="500">main.ts</text>
  <text x="93" y="474" text-anchor="middle" fill="#475569" font-size="7">entry point · scene setup</text>

  <rect x="150" y="442" width="90" height="42" rx="6" fill="#172130" stroke="#253549"/>
  <text x="195" y="460" text-anchor="middle" fill="#e2e8f0" font-size="8.5" font-weight="500">dataLoader.ts</text>
  <text x="195" y="474" text-anchor="middle" fill="#475569" font-size="7">fetch .bin → arrays</text>

  <rect x="252" y="442" width="90" height="42" rx="6" fill="#172130" stroke="#253549"/>
  <text x="297" y="460" text-anchor="middle" fill="#e2e8f0" font-size="8.5" font-weight="500">rendering.ts</text>
  <text x="297" y="474" text-anchor="middle" fill="#475569" font-size="7">tube · points · colors</text>

  <rect x="354" y="442" width="90" height="42" rx="6" fill="#172130" stroke="#253549"/>
  <text x="399" y="460" text-anchor="middle" fill="#e2e8f0" font-size="8.5" font-weight="500">controls.ts</text>
  <text x="399" y="474" text-anchor="middle" fill="#475569" font-size="7">lil-gui · orbit</text>

  <rect x="456" y="442" width="120" height="42" rx="6" fill="#172130" stroke="#253549"/>
  <text x="516" y="460" text-anchor="middle" fill="#e2e8f0" font-size="8.5" font-weight="500">tooltip.ts</text>
  <text x="516" y="474" text-anchor="middle" fill="#475569" font-size="7">raycaster · bar charts</text>

</svg>
